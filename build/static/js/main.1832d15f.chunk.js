(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/logo.c35c92ee.png"},117:function(e,t,a){e.exports=a(237)},126:function(e,t,a){},127:function(e,t,a){},134:function(e,t){},136:function(e,t){},170:function(e,t){},171:function(e,t){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),i=a.n(c),s=a(20),o=(a(126),a(19)),l=a(28),u=(a(127),a(9)),m=a(10),h=a(12),p=a(11),d=a(22),g=a(13);function b(){return function(e){return e({type:"REQUEST_API_DATA"}),fetch("https://opentdb.com/api_token.php?command=request").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)})).then((function(e){return e.token}))})).then((function(t){return e(function(e){return{type:"RECEIVE_API_DATA_SUCCESS",data:e}}(t))}),(function(t){return e(function(e){return{type:"RECEIVE_API_DATA_FAILURE",error:e}}(t))}))}}function f(e){return function(t){return t({type:"REQUEST_QUESTIONS"}),(a=e,fetch("https://opentdb.com/api.php?amount=5&token=".concat(a)).then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)})).then((function(e){return e}))}))).then((function(e){return t(function(e){return{type:"RECEIVE_QUESTIONS_FROM_API",questions:e.results}}(e))}));var a}}var E=a(113),v=a.n(E),O=a(128),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={nome:"",email:"",hash:"",clicked:!1},a.nomeChange=a.nomeChange.bind(Object(d.a)(a)),a.emailChange=a.emailChange.bind(Object(d.a)(a)),a.cR=a.cR.bind(Object(d.a)(a)),a.clickAPI=a.clickAPI.bind(Object(d.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("state",JSON.stringify({player:{name:"",assertions:0,score:0,gravatarEmail:""}}))}},{key:"nomeChange",value:function(e){this.setState({nome:e.target.value})}},{key:"emailChange",value:function(e){this.setState({email:e.target.value});var t=O.MD5(e.target.value).toString();this.setState({hash:t})}},{key:"cR",value:function(){this.setState({clicked:!0})}},{key:"clickAPI",value:function(){var e=this.props,t=e.hC,a=e.chave,n=e.questions;t(this.state),a().then((function(e){var t=e.data;n(t),localStorage.setItem("token",t)})),this.cR(),localStorage.setItem("state",JSON.stringify({player:{name:this.state.nome,assertions:0,score:0,gravatarEmail:this.state.email}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.clicked,n=t.email,c=t.nome,i=!n||!c;return a?r.a.createElement(l.a,{to:"/game"}):r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:v.a,alt:"tryoutLogo"}),r.a.createElement(o.b,{to:"/settings","data-testid":"btn-settings",style:{color:"black"}},"Configura\xe7\xf5es"),r.a.createElement("label",{htmlFor:"nome",className:"inputz"},"Name",r.a.createElement("input",{type:"text","data-testid":"input-player-name",value:this.state.nome,onChange:this.nomeChange})),r.a.createElement("label",{htmlFor:"email",className:"inputz"},"E-mail",r.a.createElement("input",{type:"email","data-testid":"input-gravatar-email",value:this.state.email,onChange:this.emailChange})),r.a.createElement("button",{"data-testid":"btn-play",disabled:i,onClick:function(){return e.clickAPI()},className:"btn"},"PLAY!"))}}]),t}(n.Component),k=Object(s.b)(null,(function(e){return{hC:function(t){return e(function(e){return{type:"LOGIN",login:e}}(t))},chave:function(){return e(b())},questions:function(t){return e(f(t))}}}))(y),j=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nome,a=e.hash,n=e.placar;return r.a.createElement("header",{className:"header"},r.a.createElement(o.b,{className:"btn","data-testid":"btn-go-home",to:"/"},"Home"),r.a.createElement("img",{"data-testid":"header-profile-picture",src:"https://www.gravatar.com/avatar/".concat(a),alt:"foto de perfil",className:"inputz"}),r.a.createElement("p",{"data-testid":"header-player-name",className:"inputz"},"Player: ",t),r.a.createElement("p",{"data-testid":"header-score",className:"inputz"},"Score: ",n))}}]),t}(n.Component),S=Object(s.b)((function(e){return{nome:e.loginReducer.login.nome,hash:e.loginReducer.login.hash,placar:e.placarReducer.scoreR}}))(j),C=a(8),R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isClicked:!1,isAssertion:!1,timer:30,player:{name:"",assertions:0,score:0,gravatarEmail:""}},a.nQ=a.nQ.bind(Object(d.a)(a)),a.clickC=a.clickC.bind(Object(d.a)(a)),a.clickI=a.clickI.bind(Object(d.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.intervalChange(),this.setLocalstorage()}},{key:"setLocalstorage",value:function(){var e=this.props,t=e.nome,a=e.email;this.setState({player:{name:t,assertions:0,score:0,gravatarEmail:a}})}},{key:"intervalChange",value:function(){var e=this;this.setState({timer:30}),this.myInterval=setInterval((function(){1===e.state.timer&&clearInterval(e.myInterval),e.setState((function(e){return{timer:e.timer-1}})),e.state.isClicked&&clearInterval(e.myInterval),e.timeOut()}),1e3)}},{key:"nQ",value:function(){var e=this.props,t=e.counterF,a=e.playerR;this.setState({isClicked:!1}),t(),clearInterval(this.myInterval),this.intervalChange(),a(this.state.player)}},{key:"clickC",value:function(){var e=this.props.playerR;this.setState({isClicked:!0}),this.points(),e(this.state.player)}},{key:"clickI",value:function(){var e=this.props.playerR;this.setState({isClicked:!0});var t={player:this.state.player};e(this.state.player),localStorage.setItem("state",JSON.stringify(t))}},{key:"timeOut",value:function(){0===this.state.timer&&this.setState({isClicked:!0})}},{key:"points",value:function(){var e=this.props,t=0;switch(e.perguntas[e.count].difficulty){case"hard":t=3;break;case"medium":t=2;break;case"easy":t=1;break;default:t=0}this.setState({player:Object(C.a)({},this.state.player,{score:this.state.player.score+(this.state.timer*t+10),assertions:this.state.player.assertions+1})}),localStorage.setItem("state",JSON.stringify({player:Object(C.a)({},this.state.player,{score:this.state.player.score+(this.state.timer*t+10),assertions:this.state.player.assertions+1})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.perguntas,n=t.count,c=this.state.isClicked;return r.a.createElement("div",null,r.a.createElement("h2",null,"Timer:",this.state.timer),a[n]&&r.a.createElement("div",null,r.a.createElement("button",{"data-testid":"correct-answer",onClick:function(){return e.clickC()},disabled:c,className:c?"green-border":null},a[n].correct_answer),a[n].incorrect_answers.map((function(t,a){return r.a.createElement("button",{"data-testid":"wrong-answer-".concat(a),onClick:function(){return e.clickI()},disabled:c,className:c?"red-border":null},t)})),c&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn","data-testid":"btn-next",onClick:function(){return e.nQ()}},"Next"))))}}]),t}(n.Component),I=Object(s.b)((function(e){return{perguntas:e.tokenReducer.questions,count:e.counterReducer.count,nome:e.loginReducer.login.nome,email:e.loginReducer.login.email}}),(function(e){return{counterF:function(){return e({type:"COUNTER"})},playerR:function(t){return e(function(e){return{type:"DADOS",player:e}}(t))}}}))(R),N=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.perguntas,a=e.count;return a>4?r.a.createElement(l.a,{to:"/feedback"}):r.a.createElement("div",{className:"game"},r.a.createElement(S,null),t[a]&&r.a.createElement("div",null,r.a.createElement("p",{"data-testid":"question-category"},"Category: ",t[a].category),r.a.createElement("p",{"data-testid":"question-text"},"Question: ",t[a].question),r.a.createElement(I,null)))}}]),t}(n.Component),A=Object(s.b)((function(e){return{perguntas:e.tokenReducer.questions,count:e.counterReducer.count}}))(N),_=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",{"data-testid":"settings-title"},"Configura\xe7\xf5es"))}}]),t}(n.Component),w=a(116),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={message:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.text();var e=JSON.parse(localStorage.getItem("ranking")),t=this.props,a=t.nome,n=t.hash,r={name:a,score:t.placar,picture:"https://www.gravatar.com/avatar/".concat(n)};return e?localStorage.setItem("ranking",JSON.stringify([].concat(Object(w.a)(e),[r]))):localStorage.setItem("ranking",JSON.stringify([r]))}},{key:"text",value:function(){return this.props.acertos>=3?this.setState({message:"Great Work!"}):this.setState({message:"You could have done it better..."})}},{key:"clearStore",value:function(){var e=this.props,t=e.zeroCount,a=e.clearLogin,n=e.clearPlacar;t(),a(),n()}},{key:"render",value:function(){var e=this,t=this.props,a=t.nome,n=t.hash,c=t.placar,i=t.acertos;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(o.b,{className:"btn","data-testid":"btn-play-again",to:"/",onClick:function(){return e.clearStore()}},"Home"),r.a.createElement(o.b,{className:"btn","data-testid":"btn-ranking",to:"/ranking",onClick:function(){return e.clearStore()}},"Ranking"),r.a.createElement("p",{"data-testid":"header-score"},c)),r.a.createElement("h1",{className:"big"},"FEEDBACK"),r.a.createElement("div",{className:"feed"},r.a.createElement("img",{"data-testid":"header-profile-picture",src:"https://www.gravatar.com/avatar/".concat(n),alt:"foto de perfil"}),r.a.createElement("p",{"data-testid":"header-player-name"},"Player: ",a),r.a.createElement("p",{"data-testid":"feedback-total-score"},"Score: ",c),r.a.createElement("p",{"data-testid":"feedback-total-question"},"Assertions: ",i)),r.a.createElement("h1",{className:"big","data-testid":"feedback-text"},this.state.message))}}]),t}(n.Component),D=Object(s.b)((function(e){return{nome:e.loginReducer.login.nome,hash:e.loginReducer.login.hash,placar:e.placarReducer.scoreR,acertos:e.placarReducer.assertionsR}}),(function(e){return{zeroCount:function(){return e({type:"ZEROU"})},clearLogin:function(){return e({type:"CLEARLOG"})},clearPlacar:function(){return e({type:"ZERODADOS"})}}}))(P),T=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("ranking")).sort((function(e,t){return t.score-e.score})).map((function(e,t){return r.a.createElement("div",{key:e.name,className:"rk"},r.a.createElement("h2",null,t+1),r.a.createElement("img",{src:e.picture,alt:e.name}),r.a.createElement("p",{"data-testid":"player-name-".concat(t)},e.name),r.a.createElement("p",{"data-testid":"player-score-".concat(t)},e.score))}));return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(o.b,{className:"btn",to:"/","data-testid":"btn-go-home"},"play AGAIN!"),r.a.createElement("h1",{"data-testid":"ranking-title",className:"big"},"RANKING")),r.a.createElement("section",{className:"center"},r.a.createElement("div",null,e)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(27),F=a(115),L={login:{nome:"",email:"",hash:"",placar:0}};var q={scoreR:0,assertionsR:0};var Q={token:"",questions:[],isFetching:!1};var x={count:0};var J=Object(U.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(C.a)({},e,{login:{nome:t.login.nome,email:t.login.email,hash:t.login.hash,placar:t.login.placar}});case"CLEARLOG":return Object(C.a)({},e,{login:{nome:"",email:"",hash:"",placar:""}});default:return e}},tokenReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_API_DATA":return Object(C.a)({},e,{isFetching:!0});case"RECEIVE_API_DATA_SUCCESS":return Object(C.a)({},e,{token:t.token,isFetching:!1});case"RECEIVE_API_DATA_FAILURE":return Object(C.a)({},e,{error:t.error,isFetching:!1});case"REQUEST_QUESTIONS":return Object(C.a)({},e,{isFetching:!0});case"RECEIVE_QUESTIONS_FROM_API":return Object(C.a)({},e,{questions:t.questions,isFetching:!1});default:return e}},counterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNTER":return Object(C.a)({},e,{count:e.count+1});case"ZEROU":return Object(C.a)({},e,{count:0});default:return e}},placarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DADOS":return Object(C.a)({},e,{scoreR:t.player.score,assertionsR:t.player.assertions});case"ZERODADOS":return Object(C.a)({},e,{scoreR:0,assertionsR:0});default:return e}}}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,G=Object(U.e)(J,z(Object(U.a)(F.a)));i.a.render(r.a.createElement(s.a,{store:G},r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:k}),r.a.createElement(l.b,{path:"/game",component:A}),r.a.createElement(l.b,{path:"/settings",component:_}),r.a.createElement(l.b,{path:"/feedback",component:D}),r.a.createElement(l.b,{path:"/ranking",component:T}))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[117,1,2]]]);
//# sourceMappingURL=main.1832d15f.chunk.js.map