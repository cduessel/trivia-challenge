{"ast":null,"code":"import _objectSpread from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/cd/trivia-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{counter,dados}from'../actions';var Answers=/*#__PURE__*/function(_Component){_inherits(Answers,_Component);function Answers(props){var _this;_classCallCheck(this,Answers);_this=_possibleConstructorReturn(this,_getPrototypeOf(Answers).call(this,props));_this.state={isClicked:false,isAssertion:false,timer:30,player:{name:'',assertions:0,score:0,gravatarEmail:''}};_this.nQ=_this.nQ.bind(_assertThisInitialized(_this));_this.clickC=_this.clickC.bind(_assertThisInitialized(_this));_this.clickI=_this.clickI.bind(_assertThisInitialized(_this));return _this;}_createClass(Answers,[{key:\"componentDidMount\",value:function componentDidMount(){this.intervalChange();this.setLocalstorage();}},{key:\"setLocalstorage\",value:function setLocalstorage(){var _this$props=this.props,nome=_this$props.nome,email=_this$props.email;this.setState({player:{name:nome,assertions:0,score:0,gravatarEmail:email}});}},{key:\"intervalChange\",value:function intervalChange(){var _this2=this;this.setState({timer:30});this.myInterval=setInterval(function(){if(_this2.state.timer===1){clearInterval(_this2.myInterval);}_this2.setState(function(previousState){return{timer:previousState.timer-1};});if(_this2.state.isClicked){clearInterval(_this2.myInterval);}_this2.timeOut();},1000);}// prettier-ignore\n},{key:\"nQ\",value:function nQ(){var _this$props2=this.props,counterF=_this$props2.counterF,playerR=_this$props2.playerR;this.setState({isClicked:false});counterF();clearInterval(this.myInterval);this.intervalChange();playerR(this.state.player);}// prettier-ignore\n},{key:\"clickC\",value:function clickC(){var playerR=this.props.playerR;this.setState({isClicked:true});this.points();playerR(this.state.player);}// prettier-ignore\n},{key:\"clickI\",value:function clickI(){var playerR=this.props.playerR;this.setState({isClicked:true});var info={player:this.state.player};playerR(this.state.player);localStorage.setItem('state',JSON.stringify(info));}},{key:\"timeOut\",value:function timeOut(){if(this.state.timer===0){this.setState({isClicked:true});}}// prettier-ignore\n},{key:\"points\",value:function points(){var _this$props3=this.props,perguntas=_this$props3.perguntas,count=_this$props3.count;var dif=0;switch(perguntas[count].difficulty){case'hard':dif=3;break;case'medium':dif=2;break;case'easy':dif=1;break;default:dif=0;break;}this.setState({player:_objectSpread({},this.state.player,{score:this.state.player.score+(this.state.timer*dif+10),assertions:this.state.player.assertions+1})});localStorage.setItem('state',JSON.stringify({player:_objectSpread({},this.state.player,{score:this.state.player.score+(this.state.timer*dif+10),assertions:this.state.player.assertions+1})}));}// prettier-ignore\n},{key:\"render\",value:function render(){var _this3=this;var _this$props4=this.props,perguntas=_this$props4.perguntas,count=_this$props4.count;var isClicked=this.state.isClicked;return React.createElement(\"div\",null,React.createElement(\"h2\",null,\"Timer:\",this.state.timer),perguntas[count]&&React.createElement(\"div\",null,React.createElement(\"button\",{\"data-testid\":\"correct-answer\",onClick:function onClick(){return _this3.clickC();},disabled:isClicked,className:isClicked?'green-border':null},perguntas[count].correct_answer),perguntas[count].incorrect_answers.map(function(respostaI,i){return React.createElement(\"button\",{\"data-testid\":\"wrong-answer-\".concat(i),onClick:function onClick(){return _this3.clickI();},disabled:isClicked,className:isClicked?'red-border':null},respostaI);}),isClicked&&React.createElement(\"div\",null,React.createElement(\"button\",{className:\"btn\",\"data-testid\":\"btn-next\",onClick:function onClick(){return _this3.nQ();}},\"Next\"))));}}]);return Answers;}(Component);var mapStatetoProps=function mapStatetoProps(state){return{perguntas:state.tokenReducer.questions,count:state.counterReducer.count,nome:state.loginReducer.login.nome,email:state.loginReducer.login.email};};var mapDispatchtoProps=function mapDispatchtoProps(dispatch){return{counterF:function counterF(){return dispatch(counter());},playerR:function playerR(player){return dispatch(dados(player));}};};export default connect(mapStatetoProps,mapDispatchtoProps)(Answers);","map":{"version":3,"sources":["/home/cd/trivia-challenge/src/components/Answers.jsx"],"names":["React","Component","connect","counter","dados","Answers","props","state","isClicked","isAssertion","timer","player","name","assertions","score","gravatarEmail","nQ","bind","clickC","clickI","intervalChange","setLocalstorage","nome","email","setState","myInterval","setInterval","clearInterval","previousState","timeOut","counterF","playerR","points","info","localStorage","setItem","JSON","stringify","perguntas","count","dif","difficulty","correct_answer","incorrect_answers","map","respostaI","i","mapStatetoProps","tokenReducer","questions","counterReducer","loginReducer","login","mapDispatchtoProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { counter, dados } from '../actions';\n\nclass Answers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isClicked: false,\n      isAssertion: false,\n      timer: 30,\n      player: {\n        name: '',\n        assertions: 0,\n        score: 0,\n        gravatarEmail: '',\n      },\n    };\n    this.nQ = this.nQ.bind(this);\n    this.clickC = this.clickC.bind(this);\n    this.clickI = this.clickI.bind(this);\n  }\n\n  componentDidMount() {\n    this.intervalChange();\n    this.setLocalstorage();\n  }\n\n  setLocalstorage() {\n    const { nome, email } = this.props;\n    this.setState({ player: {\n      name: nome,\n      assertions: 0,\n      score: 0,\n      gravatarEmail: email,\n    } });\n  }\n\n  intervalChange() {\n    this.setState({ timer: 30 });\n    this.myInterval = setInterval(() => {\n      if (this.state.timer === 1) {\n        clearInterval(this.myInterval);\n      }\n      this.setState((previousState) => ({\n        timer: previousState.timer - 1,\n      }));\n      if (this.state.isClicked) {\n        clearInterval(this.myInterval);\n      }\n      this.timeOut();\n    }, 1000);\n  }\n\n  // prettier-ignore\n  nQ() {\n    const { counterF, playerR } = this.props;\n    this.setState({\n      isClicked: false,\n    });\n    counterF();\n    clearInterval(this.myInterval);\n    this.intervalChange();\n    playerR(this.state.player);\n  }\n\n  // prettier-ignore\n  clickC() {\n    const { playerR } = this.props;\n    this.setState({ isClicked: true });\n    this.points();\n    playerR(this.state.player);\n  }\n\n  // prettier-ignore\n  clickI() {\n    const { playerR } = this.props;\n    this.setState({ isClicked: true });\n    const info = { player: this.state.player };\n    playerR(this.state.player);\n    localStorage.setItem('state', JSON.stringify(info));\n  }\n\n  timeOut() {\n    if (this.state.timer === 0) {\n      this.setState({ isClicked: true });\n    }\n  }\n\n  // prettier-ignore\n  points() {\n    const { perguntas, count } = this.props;\n    let dif = 0;\n    switch (perguntas[count].difficulty) {\n      case 'hard':\n        dif = 3;\n        break;\n      case 'medium':\n        dif = 2;\n        break;\n      case 'easy':\n        dif = 1;\n        break;\n      default:\n        dif = 0;\n        break;\n    }\n    this.setState({\n      player: {\n        ...this.state.player,\n        score: this.state.player.score + ((this.state.timer * dif) + 10),\n        assertions: this.state.player.assertions + 1,\n      },\n    });\n\n    localStorage.setItem('state', JSON.stringify({\n      player: {\n        ...this.state.player,\n        score: this.state.player.score + ((this.state.timer * dif) + 10),\n        assertions: this.state.player.assertions + 1,\n      },\n    }));\n  }\n\n  // prettier-ignore\n  render() {\n    const { perguntas, count } = this.props;\n    const { isClicked } = this.state;\n    return (\n      <div>\n        <h2>Timer:{this.state.timer}</h2>\n        {perguntas[count] && (\n          <div>\n            <button\n              data-testid=\"correct-answer\"\n              onClick={() => this.clickC()}\n              disabled={isClicked}\n              className={isClicked ? 'green-border' : null}\n            >\n              {perguntas[count].correct_answer}\n            </button>\n            {perguntas[count].incorrect_answers.map((respostaI, i) => (\n              <button\n                data-testid={`wrong-answer-${i}`} onClick={() => this.clickI()}\n                disabled={isClicked} className={isClicked ? 'red-border' : null}\n              >\n                {respostaI}\n              </button>\n            ))}\n            {isClicked && (<div><button className=\"btn\" data-testid=\"btn-next\" onClick={() => this.nQ()}>Next</button></div>)}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStatetoProps = (state) => ({\n  perguntas: state.tokenReducer.questions,\n  count: state.counterReducer.count,\n  nome: state.loginReducer.login.nome,\n  email: state.loginReducer.login.email,\n});\n\nconst mapDispatchtoProps = (dispatch) => ({\n  counterF: () => dispatch(counter()),\n  playerR: (player) => dispatch(dados(player)),\n});\n\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Answers);\n\nAnswers.propTypes = {\n  perguntas: PropTypes.arrayOf(PropTypes.object).isRequired,\n  counterF: PropTypes.func.isRequired,\n  count: PropTypes.number.isRequired,\n  playerR: PropTypes.shape({\n    scoreR: PropTypes.number,\n    assertionsR: PropTypes.number,\n  }).isRequired,\n  nome: PropTypes.string.isRequired,\n  email: PropTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}